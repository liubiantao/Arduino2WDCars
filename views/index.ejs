<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />	
	<script src="/javascripts/jquery-1.7.2.min.js" type="text/javascript"></script>
	
  </head>
  <body style="width:960px;margin:0 auto">
    <h1><%= title %></h1>
	<div style="clear:both"/>
	<div style="float:left;width:350px">
		<button type="button" id="f">Moving Forward</button>
		<button type="button" id="b">Moving Backward</button>
		<button type="button" id="l">Turning Left</button>
		<button type="button" id="r">Turning Right</button>

		<button type="button" id="u">Speed Up</button>
		<button type="button" id="d">Speed Down</button>	
	
		<button type="button" id="t">Start</button>	
		<button type="button" id="p">Stop</button>			
	</div>
	<div style="float: right; width: 600px; margin-top: -72px;">
	    <object  id="iembedflash" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,0,0" width="600" height="600">
	      <param name="movie" value="/assets/camcanvas.swf" />
	      <param name="quality" value="high" />
	      <param name="allowScriptAccess" value="always" />
	      <embed  allowScriptAccess="always"  id="embedflash" src="/images/camcanvas.swf" quality="high" width="600" height="600" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" mayscript="true"  />
	    </object>
	    	<canvas style="border:1px dotted PowderBlue;float:left;"  id="canvas" width="600" height="600"></canvas>
		
	</div>
	
	
	
  </body>
</html>
<script type="text/javascript">
var callback = function(data){
	console.log("callback recived from server");
}
	
$('button').each(function(index){
	$(this).click(function () {       
	  console.log('buttoon clicked id: ' + $(this).attr('id'));
  	  $.post('/control', { "command": $(this).attr('id')}, callback, "json");
	});
});
</script>
